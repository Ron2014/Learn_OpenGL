## 专业术语对照表

- 光照贴图 Lighting Maps
- 放射光贴图(Emission Map)
- 发光(Glow)
- 发光值(Emission Value)

## 概念

光照贴图要解决的问题：对于物体表面的不同部分设置不同的材质。

而材质指的就是与光照相关的物体颜色（ambient/diffuse/specular）。

这个概念和纹理映射极为类似：对于物体表面不同的部分设置不同的颜色。听上去和光照没有什么关联。

共同之处是，它们的做法都是使用了一张2D图片，来反映物体表面的信息。

即：在片段着色器中，存在一个sample2D表示纹理单元，一个vec2表示纹理坐标，对他们使用texture函数完成映射。

- Texture Map - 纹理映射
- Lighting Map - 光照贴图

完全闹不明白这里的Map在中文译名中有啥区别。也许我们叫纹理贴图、光照映射也没什么不妥。

从概念上理解，Lighting Map 似乎是 Texture Map 的一个子集：

1. Texture Map的计算相对简单，要么通过颜色相乘实现混合，要么通过mix函数实现两个纹理单元的混合。
2. Lighting Map在此基础上有了更加复杂的计算：
   - 漫反射： 纹理映射+法向量+片段位置+光源位置
   - 高光：   纹理映射+法向量+片段位置+光源位置+观察位置+反光度

注意sampler2D是所谓的不透明类型(Opaque Type)，也就是说我们不能将它实例化，只能通过uniform来定义它。如果我们使用除uniform以外的方法（比如函数的参数）实例化这个结构体，GLSL会抛出一些奇怪的错误。这同样也适用于任何封装了不透明类型的结构体。

环境光颜色在几乎所有情况下都等于漫反射颜色，所以我们不需要将它们分开储存。也就是说，对于环境光，我们只在乎物体反射它的强度。

## 高光的光照贴图

如果做曝光效果，一般用黑白的。

高光表达的内容，就是光在物体表面，经过强度很高的反色和散射（散射半径用1/反光度来度量的）表现出来的颜色。

这个反色和散射就是曝光。如果用彩色的光照贴图的图片，就是表达物体在高曝光下才会展示的颜色（纹理）。

如果再加上物体的旋转/光源的移动，会表现出一种深藏不漏的感觉。例如

1. 假设这个物体是个妖怪，经过高曝光之后，曝光的部分表面呈现出妖怪原形的样子。
2. 一种异常电流途径物体表面的样子。
3. 假设这个物体时把利剑，它有一种普通形态，还有一种附魔或者什么的更高级的强化形态，高光扫过时，显示其强化形态的纹理。
4. 利用高光贴图的这种特性，做出局部镜像的效果。如高光扫过坚韧，我们在曝光区域看到持剑人的脸庞。经过剑刃轮廓+散射度范围的双重裁剪。