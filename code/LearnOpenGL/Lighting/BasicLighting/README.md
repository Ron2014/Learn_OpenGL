## 专业术语

- 冯氏光照模型(Phong Lighting Model)
- 环境光照(Ambient Lighting)
- 漫反射光照(Diffuse Lighting)。模拟光源对物体的方向性影响(Directional Impact)。物体的某一部分越是正对着光源，它就会越亮。
- 镜面光照(Specular Lighting)。模拟有光泽物体上面出现的亮点。
- 全局照明(Global Illumination)算法。光的一个属性是，它可以向很多方向发散并反弹，从而能够到达不是非常直接临近的点。

## 环境光照

和lightColor有关。

只是给光照颜色一个很小的缩放因子，如0.1f。保证场景不会黑到伸手不见五指的程度。

它一种简单的模拟，用来表现光在场景存在多次反射（bounce），所以场景不会全黑的状态。

更真实地表现是GI算法，它把光分为仅通过一次反射地光（direct）和，经过多次反射的光（indirect），通过对其追踪，进行了复杂而精密的计算。只是这个算法我们目前暂不讨论。

## 漫反射光照

和objColor有关。

漫反射主要解决的是，物体存在受光面和被光面的区分，更精细的，还有受光面的角度，通过这些来计算物体颜色的明暗程度。

### 法向量 Normal Vector

用于角度的测量。是垂直于片段（片段同时具有颜色、位置和朝向属性）表面的向量。

法向量只是一个方向向量，不能表达空间中的特定位置。

法向量没有齐次坐标（顶点位置中的w分量）。

#### 法线矩阵(Normal Matrix)

1. 位移不应该影响到法向量。
2. 每当我们应用一个不等比缩放时（注意：等比缩放不会破坏法线，因为法线的方向没被改变，仅仅改变了法线的长度，而这很容易通过标准化来修复），法向量就不会再垂直于对应的表面了，这样光照就会被破坏。

法线矩阵被定义为「模型矩阵左上角的逆矩阵的转置矩阵」。

修复这个行为的诀窍是使用一个为法向量专门定制的模型矩阵。这个矩阵称之为法线矩阵(Normal Matrix)。在顶点着色器中，我们可以使用inverse和transpose函数自己生成这个法线矩阵，这两个函数对所有类型矩阵都有效。

**即使是对于着色器来说，逆矩阵也是一个开销比较大的运算，因此，只要可能就应该避免在着色器中进行逆矩阵运算。**

## 镜面光照/镜面高光(Specular Highlight)

镜面光照也是依据光的方向向量和物体的法向量来决定的，但是它也依赖于观察方向。

无论我们从哪里去看那个表面所反射的光，镜面光照都会达到最大化。

我们通过反射法向量周围光的方向来计算反射向量。然后我们计算反射向量和视线方向的角度差，如果夹角越小，那么镜面光的影响就会越大。

观察向量是镜面光照附加的一个变量，我们可以使用观察者世界空间位置和片段的位置来计算它。

### 高光的反光度(Shininess)

先计算视线方向与反射方向的点乘（并确保它不是负值），然后取它的32次幂。